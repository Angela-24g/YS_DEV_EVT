# 지도 - 리플레이 방법, 실시간 재현 방법
 
 1. 리플레이 방법
 > 과거 데이터를 시간 순으로 재생하는 것
 > setInterval을 이용하여 특정 시간이나 지난 경로 재생

 ```js
 let index = 0;
const replay = setInterval(() => {
    if (index >= data.length) {
        clearInterval(replay);
        return;
    }
    marker.setLatLng([data[index].lat, data[index].lng]); // 여기는 향후 아이콘이 이동할 함수를 넣는다.
    index++;
}, 1000); // 1초마다 이동


// 여기서는
const { payload: list } = await getPrvAccChildHisList(type);
      const distinctList = [...new Set(list.map(x => x.insDt))];
      const REPLAY_FN = () => {
        if (distinctList.length == index) {
          clearIntervalFn();
          return;
        }
        const key = distinctList[index++];
        const data = list.filter(x => x.insDt === key);
        drawFeatures(data);
      }
      interval.value = useIntervalFn(REPLAY_FN, 1000, { immediateCallback: true });        

```
각 시간에 대한 점은, 기존 프로젝트는 데이터 전체를 가져와 인터벌로 1초를 넣음(해당 시간에 맞춘 데이터를 출력함.)
그래서, 1초마다 데이터의 궤적을 보게 하는데 궤적 clear를 하지 않으면 여러 점이 지도에 찍히는 걸 확인이 가능.

```javascript
 const REAL_FN = async () => {
        const { payload: data } = await getPrvAccChildHisList(type);
        drawFeatures(data);
      }
      interval.value = useIntervalFn(REAL_FN, 2000, { immediateCallback: true });
```
2초 주기로 실시간 데이터를 가져와 출력
 
 2. 실시간 방법
 > 실시간으로 움직이는 데이터를 맵에 표현 
 > 즉각적인 시간 업데이트에 의한 동작 구현

